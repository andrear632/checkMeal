<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="style.css">
    <script src="index.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
    <title>Edit your needs</title>
    <link rel="icon" type="image/x-icon" href="icons/logo_small.png">
</head>

<body onload="loadLocalStorage();">
    <div class="container mt-3">
        <div class="display-1 mx-auto d-block text-center">Select your needs</div>
    </div>

    <div class="my-3 text-center">
        <svg class="bi bi-search me-3" id="searchicon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
        </svg>
            
        <input id="searchbar" class="me-4" type="text" placeholder="Search..."></input>
    </div>

    <script>
        var el = document.getElementById("searchbar")
        el.addEventListener('keyup', (e) => {
            //console.log(e.target.value)
            var list = document.getElementById("needs").children
            //console.log(typeof(list))
            for(var i = 0; i<list.length; i++){
                //console.log(list[i])

                if(!list[i].firstElementChild.firstElementChild.name.toLowerCase().includes(e.target.value.toLowerCase())){
                    list[i].style.display="none"
                }
                else{
                    list[i].style.display="" 
                }

            }
            
        })
    </script>

    <div class="my-4 text-center">
        <button class="btn btn-secondary" onclick="uncheckAll(); document.getElementById('saveButton').classList.remove('disabled');">uncheck all</button>
    </div>

    <div class="px-3">
        <div id="needs" class="container-sm my-3 py-3 border border-warning border-2 rounded-4 h-50 overflow-auto">


        </div>
    </div>


    <div id="buttons" class="row g-0">
        <div class="col-6 text-center">
            <button onclick="document.location='needs.html'" class="btn btn-danger btn-lg">Back</button>
        </div>
        <div class="col-6 text-center">
            <button id="saveButton" onclick="saveLocalStorage(); document.location='needs.html'"
                class="btn disabled btn-lg btn-success">Save</button>
        </div>
    </div>

    <div class="btn-group btn-group-lg fixed-bottom">
        <a href="needs.html" type="button" class="mybtn1 btn btn-warning border border-1 rounded-0 py-2 px-2">Your Needs</a>
        <a href="scan.html" type="button" class="btn border btn-warning border-1 rounded-0 py-2 px-2">Products</a>
        <a href="restaurants.html" type="button" class="btn border btn-warning border-1 rounded-0 py-2 px-2">Restaurants</a>
    </div>
</body>



</html>